{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule, ErrorHandler } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPage } from './login.page';\n\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { IonicStorageModule } from \"@ionic/storage\";\n//import {IonicStorageModule} from \"@ionic/storage\";\n//import { IonicErrorHandler } from 'ionic-angular/umd';\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: LoginPage\n\t}\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tHttpClientModule,\n\t\tIonicModule,\n\t\tRouterModule.forChild(routes),\n\t\tIonicStorageModule,\n\t],\n\tdeclarations: [LoginPage],\n\tproviders: [\n\t\tHttpClient,\n\t\t//[{provide: ErrorHandler, useClass: IonicErrorHandler}, Storage]\n\t]\n})\nexport class LoginPageModule {}\n","module.exports = \"<ion-content>\\n\\t<div class=\\\"login-page\\\">\\n\\t\\t<div class=\\\"icon\\\">\\n\\t\\t\\t<img src=\\\"../assets/logo-transp/logo-white-shadow-200px.png\\\" width=\\\"200px\\\" height=\\\"200px\\\" />\\n\\t\\t</div>\\n\\n\\t\\t{{global.onesignalID}}\\n\\t\\t<div class=\\\"input-botline\\\">\\n\\t\\t\\t<div class=\\\"title\\\">USERNAME</div>\\n\\t\\t\\t<ion-input type=\\\"email\\\" name=\\\"username\\\" placeholder=\\\"example@email.com\\\" [(ngModel)]=\\\"username\\\"></ion-input>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"input-botline\\\">\\n\\t\\t\\t<div class=\\\"title\\\">PASSWORD</div>\\n\\t\\t\\t<ion-input type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"••••••••••\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"result-text\\\" *ngIf=\\\"loginresultstring.length>0\\\" [innerHTML]=\\\"loginresultstring\\\"></div>\\n\\t\\t<div class=\\\"action\\\" *ngIf=\\\"!global.loginloading\\\">\\n\\t\\t\\t<button class=\\\"btn\\\" id=\\\"login_btn\\\" (click)=\\\"login_clicked()\\\">\\n\\t\\t\\t\\tLOG IN !\\n\\t\\t\\t</button>\\n\\t\\t</div>\\n\\t\\t{{global.loginloading}}\\n\\t\\t<div class=\\\"action\\\" *ngIf=\\\"global.loginloading\\\">\\n\\t\\t\\t<i class=\\\"fal fa-spinner fa-spin\\\"></i>\\n\\t\\t\\tloading...\\n\\t\\t</div>\\n\\t</div>\\n</ion-content>\\n\"","module.exports = \".login-page {\\n  background-color: #70a;\\n  color: white;\\n  height: 100%; }\\n  .login-page .icon {\\n    height: 50%;\\n    width: 100%;\\n    display: -ms-grid;\\n    display: grid;\\n    align-items: center;\\n    justify-items: center; }\\n  .login-page .input-botline {\\n    text-align: center; }\\n  .login-page .input-botline div.title {\\n      font-size: 40%;\\n      margin-top: 30px;\\n      font-weight: bold; }\\n  .login-page .input-botline ion-input {\\n      max-width: 350px;\\n      width: 80%;\\n      margin: auto;\\n      color: white;\\n      background-color: transparent;\\n      border-top: 0;\\n      border-left: 0;\\n      border-right: 0;\\n      border-bottom: 2px solid white;\\n      text-align: center;\\n      font-size: 18px;\\n      --placeholder-color: rgba(255,255,128,0.7);\\n      --placeholder-opacity: 1; }\\n  .login-page .input-botline ion-input:-webkit-autofill {\\n        background-color: transparent;\\n        color: white; }\\n  .login-page .action {\\n    text-align: center;\\n    margin: 20px 0; }\\n  .login-page .action .btn {\\n      background-color: white;\\n      color: #70a;\\n      font-weight: bold; }\\n  .login-page .result-text {\\n    background-color: #ffffdd;\\n    color: black;\\n    font-weight: bold; }\\n\"","import { Component, OnInit, ElementRef } from '@angular/core';\n\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { GlobalsService } from '../globals.service';\nimport { Router } from '@angular/router';\nimport { NavController, Platform } from '@ionic/angular';\nimport { AuthenticationService } from \"../services/authentication.service\";\nimport { Storage } from \"@ionic/storage\";\n\n\n//@ViewChild('login_btn') inputEl: ElementRef;\n\n@Component({\n\tselector: 'app-login',\n\ttemplateUrl: './login.page.html',\n\tstyleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n\n\tusername: String = \"\";\n\tpassword: String = \"\";\n\tresult: Observable<any>;\n\tloginresultstring: String = \"\";\n\tloginerror: boolean = true;\n\tsubscription: any;\n\n\tconstructor(\n\t\tpublic global: GlobalsService,\n\t\tprivate auth: AuthenticationService,\n\t\tpublic http: HttpClient,\n\t\tpublic router: Router,\n\t\tpublic navCtrl: NavController,\n\t\tpublic platform: Platform,\n\t\tpublic storage: Storage\n\t) { \n\t\t//constructor\n\t\tthis.username = \"employee@test.com\";\n\t\tthis.password = \"password\";\n\t\tthis.global.logintoken = \"$2y$10$yLK5sCjIeWdGRGA8gFjnpuUiBblJn9AP0A/TVTJculb2Ttbe4PBSq\";\n\t}\n\n\tngOnInit() {\n\t\t\n\t\t\n\t\t//this.storage.clear('USER_INFO');\n\t\t\n\t\tvar self = this;\n\t\tthis.auth.cek_token(function(data){\n\t\t\tself.loginerror = false;\n\t\t\t\n\t\t\tif(self.global.usertype == \"EM\"){\n\t\t\t\tself.router.navigateByUrl('tabs/full/(home:home)');\n\t\t\t\tself.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Employee Logged-in, Success..\";\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\n\n\tionViewDidEnter() {\n\t\tthis.subscription = this.platform.backButton.subscribe(() => {\n\t\t\tnavigator['app'].exitApp();\n\t\t});\n\t}\n\n\n\tlogin_clicked() {\n\t\tif(this.global.loginloading == false) {\n\t\t\tthis.global.loginloading = true;\n\t\t\n\t\t\tlet onesignalID = this.global.onesignalID;\n\t\t\tlet url = this.global.api+'login';\n\t\t\tlet post = {\n\t\t\t\t'onesignalID': onesignalID,\n\t\t\t\t'username': this.username,\n\t\t\t\t'password': this.password\n\t\t\t};\n\t\t\n\t\t\t//console.log(url);\n\t\t\n\t\t\t//this.authService.login();\n\t\t\n\t\t\t\tthis.result = this.http.post(url,\n\t\t\t\t\tpost,\n\t\t\t\t\t{\n\t\t\t\t\t\tresponseType: 'json'\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tif(this.result != null){\n\t\t\t\t\tthis.result.subscribe(data=>{\n\t\t\t\t\t\tif (data != null) {\n\t\t\t\t\t\t\tif(data[0]=='1'){\n\t\t\t\t\t\t\t\tthis.global.logintoken = data[1];\n\t\t\t\t\t\t\t\tthis.global.userdata = data[2];\n\t\t\t\t\t\t\t\tthis.global.usertype = data[3];\n\t\t\t\t\t\t\t\tthis.loginerror = false;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvar dummy_response = {\n\t\t\t\t\t\t\t\t\tonesignalID : this.global.onesignalID,\n\t\t\t\t\t\t\t\t\tapp_token : this.global.logintoken\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tthis.storage.set('USER_INFO', dummy_response).then((response) => { });\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\tif(this.global.usertype == \"EM\"){\n\t\t\t\t\t\t\t\t\tthis.router.navigateByUrl('tabs/full/(home:home)');\n\t\t\t\t\t\t\t\t\tthis.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Employee Logged-in, Success..\";\n\t\t\t\t\t\t\t\t}else if(this.global.usertype == \"CU\"){\n\t\t\t\t\t\t\t\t\t//CUSTOMER ROLE\n\t\t\t\t\t\t\t\t\t//this.router.navigateByUrl('');\n\t\t\t\t\t\t\t\t\tconsole.log(\"CUSTOMER RESTICTION\");\n\t\t\t\t\t\t\t\t\tthis.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Customer Logged-in, Cannot go inside..\";\n\t\t\t\t\t\t\t\t\tthis.global.loginloading = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.loginerror = true;\n\t\t\t\t\t\t\t\tconsole.log('STATUS ERROR');\n\t\t\t\t\t\t\t\tthis.loginresultstring = data[1];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.loginerror = true;\n\t\t\t\t\t\t\tconsole.log('NO DATA RECEIVED');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.global.loginloading = false;\n\t\t\t\t\t}, error=>{\n\t\t\t\t\t\tthis.global.loginloading = false;\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.loginerror = true;\n\t\t\t\t\tconsole.log(\"CANNOT LOGIN, error in result = null\");\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.log(\"STILL on log-in loading API, please wait..\");\n\t\t\t}\n\t\t}\n\n}\n"],"sourceRoot":""}