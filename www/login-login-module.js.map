{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\r\nimport { IonicStorageModule } from \"@ionic/storage\";\r\n//import {IonicStorageModule} from \"@ionic/storage\";\r\n//import { IonicErrorHandler } from 'ionic-angular/umd';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: '',\r\n\t\tcomponent: LoginPage\r\n\t}\r\n];\r\n\r\n@NgModule({\r\n\timports: [\r\n\t\tCommonModule,\r\n\t\tFormsModule,\r\n\t\tHttpClientModule,\r\n\t\tIonicModule,\r\n\t\tRouterModule.forChild(routes),\r\n\t\tIonicStorageModule,\r\n\t],\r\n\tdeclarations: [LoginPage],\r\n\tproviders: [\r\n\t\tHttpClient,\r\n\t\t//[{provide: ErrorHandler, useClass: IonicErrorHandler}, Storage]\r\n\t]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"<ion-content>\\r\\n\\t<div class=\\\"login-page\\\">\\r\\n\\t\\t<div class=\\\"icon\\\">\\r\\n\\t\\t\\t<img src=\\\"../assets/logo-transp/logo-white-shadow-200px.png\\\" width=\\\"200px\\\" height=\\\"200px\\\" />\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t{{global.onesignalID}}\\r\\n\\t\\t<div class=\\\"input-botline\\\">\\r\\n\\t\\t\\t<div class=\\\"title\\\">USERNAME</div>\\r\\n\\t\\t\\t<ion-input type=\\\"email\\\" name=\\\"username\\\" placeholder=\\\"example@email.com\\\" [(ngModel)]=\\\"username\\\"></ion-input>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"input-botline\\\">\\r\\n\\t\\t\\t<div class=\\\"title\\\">PASSWORD</div>\\r\\n\\t\\t\\t<ion-input type=\\\"password\\\" name=\\\"password\\\" placeholder=\\\"••••••••••\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"result-text\\\" *ngIf=\\\"loginresultstring.length>0\\\" [innerHTML]=\\\"loginresultstring\\\"></div>\\r\\n\\t\\t<div class=\\\"action\\\" *ngIf=\\\"!global.loginloading\\\">\\r\\n\\t\\t\\t<button class=\\\"btn\\\" id=\\\"login_btn\\\" (click)=\\\"login_clicked()\\\">\\r\\n\\t\\t\\t\\tLOG IN !\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t\\t{{global.loginloading}}\\r\\n\\t\\t<div class=\\\"action\\\" *ngIf=\\\"global.loginloading\\\">\\r\\n\\t\\t\\t<i class=\\\"fal fa-spinner fa-spin\\\"></i>\\r\\n\\t\\t\\tloading...\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</ion-content>\\r\\n\"","module.exports = \".login-page {\\n  background-color: #70a;\\n  color: white;\\n  height: 100%; }\\n  .login-page .icon {\\n    height: 50%;\\n    width: 100%;\\n    display: grid;\\n    align-items: center;\\n    justify-items: center; }\\n  .login-page .input-botline {\\n    text-align: center; }\\n  .login-page .input-botline div.title {\\n      font-size: 40%;\\n      margin-top: 30px;\\n      font-weight: bold; }\\n  .login-page .input-botline ion-input {\\n      max-width: 350px;\\n      width: 80%;\\n      margin: auto;\\n      color: white;\\n      background-color: transparent;\\n      border-top: 0;\\n      border-left: 0;\\n      border-right: 0;\\n      border-bottom: 2px solid white;\\n      text-align: center;\\n      font-size: 18px;\\n      --placeholder-color: rgba(255,255,128,0.7);\\n      --placeholder-opacity: 1; }\\n  .login-page .input-botline ion-input:-webkit-autofill {\\n        background-color: transparent;\\n        color: white; }\\n  .login-page .action {\\n    text-align: center;\\n    margin: 20px 0; }\\n  .login-page .action .btn {\\n      background-color: white;\\n      color: #70a;\\n      font-weight: bold; }\\n  .login-page .result-text {\\n    background-color: #ffffdd;\\n    color: black;\\n    font-weight: bold; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9naW4vYzpcXHhhbXBwXFxodGRvY3NcXGpibW9iaWxlL3NyY1xcYXBwXFxsb2dpblxcbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Msc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWixZQUFZLEVBQUE7RUFIYjtJQUtFLFdBQVc7SUFDWCxXQUFXO0lBQ1gsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixxQkFBcUIsRUFBQTtFQVR2QjtJQVlFLGtCQUFrQixFQUFBO0VBWnBCO01BY0csY0FBYztNQUNkLGdCQUFnQjtNQUNoQixpQkFBaUIsRUFBQTtFQWhCcEI7TUFtQkcsZ0JBQWdCO01BQ2hCLFVBQVU7TUFDVixZQUFZO01BQ1osWUFBWTtNQUNaLDZCQUE2QjtNQUM3QixhQUFhO01BQ2IsY0FBYztNQUNkLGVBQWU7TUFDZiw4QkFBOEI7TUFDOUIsa0JBQWtCO01BQ2xCLGVBQWU7TUFDZiwwQ0FBb0I7TUFDbEIsd0JBQXNCLEVBQUE7RUEvQjNCO1FBa0NJLDZCQUE2QjtRQUM3QixZQUFZLEVBQUE7RUFuQ2hCO0lBd0NFLGtCQUFrQjtJQUNsQixjQUFjLEVBQUE7RUF6Q2hCO01BMkNHLHVCQUF1QjtNQUN2QixXQUFXO01BQ1gsaUJBQWlCLEVBQUE7RUE3Q3BCO0lBa0RFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubG9naW4tcGFnZXtcclxuXHRiYWNrZ3JvdW5kLWNvbG9yOiAjNzBhO1xyXG5cdGNvbG9yOiB3aGl0ZTtcclxuXHRoZWlnaHQ6IDEwMCU7XHJcblx0Lmljb257XHJcblx0XHRoZWlnaHQ6IDUwJTtcclxuXHRcdHdpZHRoOiAxMDAlO1xyXG5cdFx0ZGlzcGxheTogZ3JpZDtcclxuXHRcdGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblx0XHRqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XHJcblx0fVxyXG5cdC5pbnB1dC1ib3RsaW5le1xyXG5cdFx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdFx0ZGl2LnRpdGxle1xyXG5cdFx0XHRmb250LXNpemU6IDQwJTtcclxuXHRcdFx0bWFyZ2luLXRvcDogMzBweDtcclxuXHRcdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0XHR9XHJcblx0XHRpb24taW5wdXR7XHJcblx0XHRcdG1heC13aWR0aDogMzUwcHg7XHJcblx0XHRcdHdpZHRoOiA4MCU7XHJcblx0XHRcdG1hcmdpbjogYXV0bztcclxuXHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHRiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuXHRcdFx0Ym9yZGVyLXRvcDogMDtcclxuXHRcdFx0Ym9yZGVyLWxlZnQ6IDA7XHJcblx0XHRcdGJvcmRlci1yaWdodDogMDtcclxuXHRcdFx0Ym9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHdoaXRlO1xyXG5cdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRcdGZvbnQtc2l6ZTogMThweDtcclxuXHRcdFx0LS1wbGFjZWhvbGRlci1jb2xvcjogcmdiYSgyNTUsMjU1LDEyOCwwLjcpO1xyXG4gICAgXHQtLXBsYWNlaG9sZGVyLW9wYWNpdHk6IDE7XHJcblx0XHRcdFxyXG5cdFx0XHQmOi13ZWJraXQtYXV0b2ZpbGx7XHJcblx0XHRcdFx0YmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcblx0XHRcdFx0Y29sb3I6IHdoaXRlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdC5hY3Rpb257XHJcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XHJcblx0XHRtYXJnaW46IDIwcHggMDtcclxuXHRcdC5idG57XHJcblx0XHRcdGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG5cdFx0XHRjb2xvcjogIzcwYTtcclxuXHRcdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQucmVzdWx0LXRleHR7XHJcblx0XHRiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmRkO1xyXG5cdFx0Y29sb3I6IGJsYWNrO1xyXG5cdFx0Zm9udC13ZWlnaHQ6IGJvbGQ7XHJcblx0fVxyXG59Il19 */\"","import { Component, OnInit, ElementRef } from '@angular/core';\r\n\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/Observable';\r\n\r\nimport { GlobalsService } from '../globals.service';\r\nimport { Router } from '@angular/router';\r\nimport { NavController, Platform } from '@ionic/angular';\r\nimport { AuthenticationService } from \"../services/authentication.service\";\r\nimport { Storage } from \"@ionic/storage\";\r\n\r\n\r\n//@ViewChild('login_btn') inputEl: ElementRef;\r\n\r\n@Component({\r\n\tselector: 'app-login',\r\n\ttemplateUrl: './login.page.html',\r\n\tstyleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n\tusername: String = \"\";\r\n\tpassword: String = \"\";\r\n\tresult: Observable<any>;\r\n\tloginresultstring: String = \"\";\r\n\tloginerror: boolean = true;\r\n\tsubscription: any;\r\n\r\n\tconstructor(\r\n\t\tpublic global: GlobalsService,\r\n\t\tprivate auth: AuthenticationService,\r\n\t\tpublic http: HttpClient,\r\n\t\tpublic router: Router,\r\n\t\tpublic navCtrl: NavController,\r\n\t\tpublic platform: Platform,\r\n\t\tpublic storage: Storage\r\n\t) { \r\n\t\t//constructor\r\n\t\tthis.username = \"employee@test.com\";\r\n\t\tthis.password = \"password\";\r\n\t\tthis.global.logintoken = \"$2y$10$yLK5sCjIeWdGRGA8gFjnpuUiBblJn9AP0A/TVTJculb2Ttbe4PBSq\";\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t\t\r\n\t\t\r\n\t\t//this.storage.clear('USER_INFO');\r\n\t\t\r\n\t\tvar self = this;\r\n\t\tthis.auth.cek_token(function(data){\r\n\t\t\tself.loginerror = false;\r\n\t\t\t\r\n\t\t\tif(self.global.usertype == \"EM\"){\r\n\t\t\t\tself.navCtrl.navigateForward('confirmationbyemployee?sid=1');\r\n\t\t\t\t//comment dulu biar cepet\r\n\t\t\t\t//self.router.navigateByUrl('tabs/full/(home:home)');\r\n\t\t\t\t//end\r\n\t\t\t\tself.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Employee Logged-in, Success..\";\r\n\t\t\t}\r\n\t\t}, function(error){\r\n\t\t\tself.loginerror = true;\r\n\t\t\tself.global.loginloading = false;\r\n\t\t\tself.loginresultstring = \"Please re-login..\";\r\n\t\t\t//kosongin passwod set user name dari storage\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n\t\t\r\n\t}\r\n\r\n\r\n\tionViewDidEnter() {\r\n\t\tthis.subscription = this.platform.backButton.subscribe(() => {\r\n\t\t\tnavigator['app'].exitApp();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tlogin_clicked() {\r\n\t\tif(this.global.loginloading == false) {\r\n\t\t\tthis.global.loginloading = true;\r\n\t\t\r\n\t\t\tlet onesignalID = this.global.onesignalID;\r\n\t\t\tlet url = this.global.api+'login';\r\n\t\t\tlet post = {\r\n\t\t\t\t'onesignalID': onesignalID,\r\n\t\t\t\t'username': this.username,\r\n\t\t\t\t'password': this.password\r\n\t\t\t};\r\n\t\t\r\n\t\t\t//console.log(url);\r\n\t\t\r\n\t\t\t//this.authService.login();\r\n\t\t\r\n\t\t\t\tthis.result = this.http.post(url,\r\n\t\t\t\t\tpost,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tresponseType: 'json'\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tif(this.result != null){\r\n\t\t\t\t\tthis.result.subscribe(data=>{\r\n\t\t\t\t\t\tif (data != null) {\r\n\t\t\t\t\t\t\tif(data[0]=='1'){\r\n\t\t\t\t\t\t\t\tthis.global.logintoken = data[1];\r\n\t\t\t\t\t\t\t\tthis.global.userdata = data[2];\r\n\t\t\t\t\t\t\t\tthis.global.usertype = data[3];\r\n\t\t\t\t\t\t\t\tthis.loginerror = false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar dummy_response = {\r\n\t\t\t\t\t\t\t\t\tonesignalID : this.global.onesignalID,\r\n\t\t\t\t\t\t\t\t\tapp_token : this.global.logintoken\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tthis.storage.set('USER_INFO', dummy_response).then((response) => { });\r\n\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\tif(this.global.usertype == \"EM\"){\r\n\t\t\t\t\t\t\t\t\tthis.router.navigateByUrl('tabs/full/(home:home)');\r\n\t\t\t\t\t\t\t\t\tthis.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Employee Logged-in, Success..\";\r\n\t\t\t\t\t\t\t\t}else if(this.global.usertype == \"CU\"){\r\n\t\t\t\t\t\t\t\t\t//CUSTOMER ROLE\r\n\t\t\t\t\t\t\t\t\t//this.router.navigateByUrl('');\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"CUSTOMER RESTICTION\");\r\n\t\t\t\t\t\t\t\t\tthis.loginresultstring = \"<i class='fas fa-check fa-fw'></i> Customer Logged-in, Cannot go inside..\";\r\n\t\t\t\t\t\t\t\t\tthis.global.loginloading = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.loginerror = true;\r\n\t\t\t\t\t\t\t\tconsole.log('STATUS ERROR');\r\n\t\t\t\t\t\t\t\tthis.loginresultstring = data[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.loginerror = true;\r\n\t\t\t\t\t\t\tconsole.log('NO DATA RECEIVED');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.global.loginloading = false;\r\n\t\t\t\t\t}, error=>{\r\n\t\t\t\t\t\tthis.global.loginloading = false;\r\n\t\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loginerror = true;\r\n\t\t\t\t\tconsole.log(\"CANNOT LOGIN, error in result = null\");\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tconsole.log(\"STILL on log-in loading API, please wait..\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n}\r\n"],"sourceRoot":""}